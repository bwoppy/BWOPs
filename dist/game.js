//>>built
(function(a,c){var g,e,h,k=function(){},f=function(b){for(var d in b)return 0;return 1},i={}.toString,l=function(b){return"[object Function]"==i.call(b)},b=function(b){return"[object String]"==i.call(b)},j=function(b){return"[object Array]"==i.call(b)},d=function(b,d){if(b)for(var a=0;a<b.length;)d(b[a++])},m=function(b,d){for(var a in d)b[a]=d[a];return b},p=function(b,d){return m(Error(b),{src:"dojoLoader",info:d})},o=1,u=function(){return"_"+o++},n=function(b,d,a){return ha(b,d,a,0,n)},y=this,
B=y.document,ya=B&&B.createElement("DiV"),s=n.has=function(b){return l(q[b])?q[b]=q[b](y,B,ya):q[b]},q=s.cache=c.hasCache;s.add=function(b,d,a,f){(void 0===q[b]||f)&&(q[b]=d);return a&&s(b)};for(var r in a.has)s.add(r,a.has[r],0,1);n.async=1;var w=new Function("return eval(arguments[0]);");n.eval=function(b,d){return w(b+"\r\n////@ sourceURL="+d)};var v={},t=n.signal=function(b,a){var f=v[b];d(f&&f.slice(0),function(b){b.apply(null,j(a)?a:[a])})},H=n.on=function(b,d){var a=v[b]||(v[b]=[]);a.push(d);
return{remove:function(){for(var b=0;b<a.length;b++)if(a[b]===d){a.splice(b,1);break}}}},ia=[],za={},ja=[],T={},ka=n.map={},I=[],x={},U="",D={},J={};r={};var L=function(b){var d,a,f,j;for(d in J)a=J[d],(f=d.match(/^url\:(.+)/))?D["url:"+la(f[1],b)]=a:"*now"==d?j=a:"*noref"!=d&&(f=K(d,b),D[f.mid]=D["url:"+f.url]=a);j&&j(V(b));J={}},ma=function(b){return b.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(b){return"\\"+b})},W=function(b,d){d.splice(0,d.length);for(var a in b)d.push([a,b[a],RegExp("^"+
ma(a)+"(/|$)"),a.length]);d.sort(function(b,d){return d[3]-b[3]});return d},na=function(b){var d=b.name;d||(d=b,b={name:d});b=m({main:"main"},b);b.location=b.location?b.location:d;if(b.packageMap)ka[d]=b.packageMap;if(!b.main.indexOf("./"))b.main=b.main.substring(2);T[d]=b},oa=[],F=function(a,f,j){for(var e in a){if("waitSeconds"==e)n.waitms=1E3*(a[e]||0);"cacheBust"==e&&(U=a[e]?b(a[e])?a[e]:(new Date).getTime()+"":"");if("baseUrl"==e||"combo"==e)n[e]=a[e];a[e]!==q&&(n.rawConfig[e]=a[e],"has"!=e&&
s.add("config-"+e,a[e],0,f))}if(!n.baseUrl)n.baseUrl="./";/\/$/.test(n.baseUrl)||(n.baseUrl+="/");for(e in a.has)s.add(e,a.has[e],0,f);d(a.packages,na);for(h in a.packagePaths)d(a.packagePaths[h],function(d){var a=h+"/"+d;b(d)&&(d={name:d});d.location=a;na(d)});W(m(ka,a.map),I);d(I,function(b){b[1]=W(b[1],[]);if("*"==b[0])I.star=b});W(m(za,a.paths),ja);d(a.aliases,function(d){b(d[0])&&(d[0]=RegExp("^"+ma(d[0])+"$"));ia.push(d)});if(f)oa.push({config:a.config});else for(e in a.config)f=C(e,j),f.config=
m(f.config||{},a.config[e]);if(a.cache)L(),J=a.cache,a.cache["*noref"]&&L();t("config",[a,n.rawConfig])};n.rawConfig={};F(c,1);F(a,1);F(r,1);var M=function(b){X(function(){d(b.deps,pa)})},ha=function(d,a,f,e,g){var c;if(b(d)){if((c=C(d,e,!0))&&c.executed)return c.result;throw p("undefinedModule",d);}j(d)||(F(d,0,e),d=a,a=f);if(j(d))if(d.length){for(var f="require*"+u(),h,i=[],o=0;o<d.length;)h=d[o++],i.push(C(h,e));c=m(N("",f,0,""),{injected:2,deps:i,def:a||k,require:e?e.require:n,gc:1});x[c.mid]=
c;M(c);var l=G&&0!="sync";X(function(){Y(c,l)});c.executed||A.push(c);O()}else a&&a();return g},V=function(b){if(!b)return n;var d=b.require;if(!d)d=function(a,f,e){return ha(a,f,e,b,d)},b.require=m(d,n),d.module=b,d.toUrl=function(d){return la(d,b)},d.toAbsMid=function(d){return Z(d,b)};return d},A=[],P=[],z={},Ba=function(b){b.injected=1;z[b.mid]=1;b.url&&(z[b.url]=b.pack||1);Aa()},Q=function(b){b.injected=2;delete z[b.mid];b.url&&delete z[b.url];f(z)&&Ca()},Da=n.idle=function(){return!P.length&&
f(z)&&!A.length&&!G},$=function(b,d){if(d)for(var a=0;a<d.length;a++)if(d[a][2].test(b))return d[a];return 0},qa=function(b){for(var d=[],a,f,b=b.replace(/\\/g,"/").split("/");b.length;)a=b.shift(),".."==a&&d.length&&".."!=f?(d.pop(),f=d[d.length-1]):"."!=a&&d.push(f=a);return d.join("/")},N=function(b,d,a,f){return{pid:b,mid:d,pack:a,url:f,executed:0,def:0}},ra=function(b,a,f,e,j,c,k,m){var h,i,o,n;n=/^\./.test(b);if(/(^\/)|(\:)|(\.js$)/.test(b)||n&&!a)return N(0,b,0,b);b=qa(n?a.mid+"/../"+b:b);
if(/^\./.test(b))throw p("irrationalPath",b);a&&(o=$(a.mid,c));(o=(o=o||c.star)&&$(b,o[1]))&&(b=o[1]+b.substring(o[3]));a=(g=b.match(/^([^\/]+)(\/(.+))?$/))?g[1]:"";(h=f[a])?b=a+"/"+(i=g[3]||h.main):a="";var y=0;d(ia,function(d){var a=b.match(d[0]);a&&0<a.length&&(y=l(d[1])?b.replace(d[0],d[1]):d[1])});if(y)return ra(y,0,f,e,j,c,k,m);if(f=e[b])return m?N(f.pid,f.mid,f.pack,f.url):e[b];e=(o=$(b,k))?o[1]+b.substring(o[3]):a?h.location+"/"+i:b;/(^\/)|(\:)/.test(e)||(e=j+e);return N(a,b,h,qa(e+".js"))},
K=function(b,d){return ra(b,d,T,x,n.baseUrl,I,ja)},sa=function(b,d,a){return b.normalize?b.normalize(d,function(b){return Z(b,a)}):Z(d,a)},ta=0,C=function(b,d,a){var f,e;(f=b.match(/^(.+?)\!(.*)$/))?(e=C(f[1],d,a),5===e.executed&&!e.load&&aa(e),e.load?(f=sa(e,f[2],d),b=e.mid+"!"+(e.dynamic?++ta+"!":"")+f):(f=f[2],b=e.mid+"!"+ ++ta+"!waitingForPlugin"),b={plugin:e,mid:b,req:V(d),prid:f}):b=K(b,d);return x[b.mid]||!a&&(x[b.mid]=b)},Z=n.toAbsMid=function(b,d){return K(b,d).mid},la=n.toUrl=function(b,
d){var a=K(b+"/x",d),f=a.url;return ua(0===a.pid?b:f.substring(0,f.length-5))},va={injected:2,executed:5,def:3,result:3},E=function(b){return x[b]=m({mid:b},va)},Ea=E("require"),Fa=E("exports"),Ga=E("module"),R={},ba=0,aa=function(b){var d=b.result;b.dynamic=d.dynamic;b.normalize=d.normalize;b.load=d.load;return b},Ha=function(b){var a={};d(b.loadQ,function(d){var f=sa(b,d.prid,d.req.module),e=b.dynamic?d.mid.replace(/waitingForPlugin$/,f):b.mid+"!"+f,f=m(m({},d),{mid:e,prid:f,injected:0});x[e]||
wa(x[e]=f);a[d.mid]=x[e];Q(d);delete x[d.mid]});b.loadQ=0;var f=function(b){for(var d=b.deps||[],f=0;f<d.length;f++)(b=a[d[f].mid])&&(d[f]=b)},e;for(e in x)f(x[e]);d(A,f)},ca=function(b){n.trace("loader-finish-exec",[b.mid]);b.executed=5;b.defOrder=ba++;b.loadQ&&(aa(b),Ha(b));for(e=0;e<A.length;)A[e]===b?A.splice(e,1):e++;/^require\*/.test(b.mid)&&delete x[b.mid]},Ia=[],Y=function(b,d){if(4===b.executed)return n.trace("loader-circular-dependency",[Ia.concat(b.mid).join("->")]),!b.def||d?R:b.cjs&&
b.cjs.exports;if(!b.executed){if(!b.def)return R;var a=b.mid,f=b.deps||[],e,j=[],c=0;for(b.executed=4;c<f.length;){e=f[c++];e=e===Ea?V(b):e===Fa?b.cjs.exports:e===Ga?b.cjs:Y(e,d);if(e===R)return b.executed=0,n.trace("loader-exec-module",["abort",a]),R;j.push(e)}n.trace("loader-run-factory",[b.mid]);a=b.def;j=l(a)?a.apply(null,j):a;b.result=void 0===j&&b.cjs?b.cjs.exports:j;ca(b)}return b.result},G=0,X=function(b){try{G++,b()}finally{G--}Da()&&t("idle",[])},O=function(){G||X(function(){for(var b,d,
a=0;a<A.length;)b=ba,d=A[a],Y(d),b!=ba?a=0:a++})};void 0===s("dojo-loader-eval-hint-url")&&s.add("dojo-loader-eval-hint-url",1);var ua=function(b){b+="";return b+(U?(/\?/.test(b)?"&":"?")+U:"")},wa=function(b){var d=b.plugin;5===d.executed&&!d.load&&aa(d);var a=function(d){b.result=d;Q(b);ca(b);O()};d.load?d.load(b.prid,b.req,a):d.loadQ?d.loadQ.push(b):(d.loadQ=[b],A.unshift(d),pa(d))},S=0,da=0,ea=0,Ja=function(b,d){s("config-stripStrict")&&(b=b.replace(/"use strict"/g,""));ea=1;b===S?S.call(null):
n.eval(b,s("dojo-loader-eval-hint-url")?d.url:d.mid);ea=0},pa=function(b){var d=b.mid,a=b.url;if(!b.executed&&!b.injected&&!(z[d]||b.url&&(b.pack&&z[b.url]===b.pack||1==z[b.url])))if(Ba(b),b.plugin)wa(b);else{var f=function(){Ka(b);2!==b.injected&&(Q(b),m(b,va),n.trace("loader-define-nonmodule",[b.url]));O()};(S=D[d]||D["url:"+b.url])?(n.trace("loader-inject",["cache",b.mid,a]),Ja(S,b),f()):(n.trace("loader-inject",["script",b.mid,a]),da=b,n.injectUrl(ua(a),f,b),da=0)}},fa=function(b,d,a){n.trace("loader-define-module",
[b.mid,d]);if(2===b.injected)return t("error",p("multipleDefine",b)),b;m(b,{deps:d,def:a,cjs:{id:b.mid,uri:b.url,exports:b.result={},setExports:function(d){b.cjs.exports=d},config:function(){return b.config}}});for(var f=0;f<d.length;f++)d[f]=C(d[f],b);Q(b);if(!l(a)&&!d.length)b.result=a,ca(b);return b},Ka=function(b,a){for(var f=[],e,j;P.length;)j=P.shift(),a&&(j[0]=a.shift()),e=j[0]&&C(j[0])||b,f.push([e,j[1],j[2]]);L(b);d(f,function(b){M(fa.apply(null,b))})},Ca=k,Aa=k;s.add("ie-event-behavior",
!!B.attachEvent&&("undefined"===typeof opera||"[object Opera]"!=opera.toString()));var ga=function(b,d,a,f){if(s("ie-event-behavior"))return b.attachEvent(a,f),function(){b.detachEvent(a,f)};b.addEventListener(d,f,!1);return function(){b.removeEventListener(d,f,!1)}},La=ga(window,"load","onload",function(){n.pageLoaded=1;"complete"!=B.readyState&&(B.readyState="complete");La()}),xa=B.getElementsByTagName("script")[0],Ma=xa.parentNode;n.injectUrl=function(b,d,a){var a=a.node=B.createElement("script"),
f=ga(a,"load","onreadystatechange",function(b){var b=b||window.event,a=b.target||b.srcElement;if("load"===b.type||/complete|loaded/.test(a.readyState))f(),e(),d&&d()}),e=ga(a,"error","onerror",function(d){f();e();t("error",p("scriptError",[b,d]))});a.type="text/javascript";a.charset="utf-8";a.src=b;Ma.insertBefore(a,xa);return a};n.log=k;n.trace=k;E=function(d,a,f){var e=arguments.length,j=["require","exports","module"],c=[0,d,a];1==e?c=[0,l(d)?j:[],d]:2==e&&b(d)?c=[d,l(a)?j:[],a]:3==e&&(c=[d,a,f]);
n.trace("loader-define",c.slice(0,2));if((e=c[0]&&C(c[0]))&&!z[e.mid])M(fa(e,c[1],c[2]));else if(!s("ie-event-behavior")||ea)P.push(c);else{e=e||da;if(!e)for(d in z)if((j=x[d])&&j.node&&"interactive"===j.node.readyState){e=j;break}e?(L(e),M(fa(e,c[1],c[2]))):t("error",p("ieDefineFailed",c[0]));O()}};E.amd={vendor:"dojotoolkit.org"};m(m(n,c.loaderPatch),a.loaderPatch);H("error",function(b){try{if(console.error(b),b instanceof Error)for(var d in b);}catch(a){}});m(n,{uid:u,cache:D,packs:T});if(!y.define)y.define=
E,y.require=n,d(oa,function(b){F(b)}),H=r.deps||a.deps||c.deps,r=r.callback||a.callback||c.callback,n.boot=H||r?[H||[],r]:0})(this.dojoConfig||this.djConfig||this.require||{},{async:1,baseUrl:"./",hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:"../frozen-dev-boilerplate",name:"frozen-dev-boilerplate"},{location:".",name:"dojo"},{location:"../dcl",main:"dcl",name:"dcl"},{location:"../frozen",main:"GameCore",
name:"frozen"},{location:"../game",main:"game",name:"game"}]});
require({cache:{"dist/game":function(){define([],1)},"game/game":function(){define("./update,./draw,./Head,./Logo,./entities,dojo/keys,frozen/utils/radiansFromCenter,frozen/utils/scalePoints,frozen/box2d/BoxGame,frozen/box2d/Box,frozen/box2d/entities/Rectangle,frozen/box2d/entities/Circle,frozen/box2d/entities/Polygon,frozen/box2d/joints/Revolute,frozen/plugins/loadSound!sounds/breath1.mp3,frozen/plugins/loadSound!sounds/breath2.mp3".split(","),function(a,c,g,e,h,k,f,i,l,b,j,d,m,p,o,u){var n=new l({canvasId:"canvas",
gameAreaId:"gameArea",canvasPercentage:0.95,update:a,draw:c,resolveCollisions:!0,lastIdiot:0,lastBreath:0,lastJS:0,box:new b({resolveCollisions:!0}),initInput:function(b){b.addKeyAction(k.LEFT_ARROW);b.addKeyAction(k.RIGHT_ARROW);b.addKeyAction(k.UP_ARROW);b.addKeyAction(k.DOWN_ARROW);b.addKeyAction("A");b.addKeyAction("D");b.addKeyAction("B");b.addKeyAction("W");b.addKeyAction("O");b.addKeyAction("P")},handleInput:function(b){b.keyActions[k.LEFT_ARROW].isPressed();b.keyActions[k.RIGHT_ARROW].isPressed();
b.keyActions[k.UP_ARROW].isPressed();b.keyActions.A.isPressed();b.keyActions.D.isPressed();if(b.keyActions.B.isPressed()&&(this.box.applyTorque("ruleg",-750),1200<this.lastBreath))o.play(),this.lastBreath=0;if(b.keyActions.W.isPressed()&&(this.box.applyTorque("luleg",750),1200<this.lastBreath))u.play(),this.lastBreath=0;if(b.keyActions.O.isPressed()&&(this.box.applyTorque("llleg",-600),1200<this.lastBreath))o.play(),this.lastBreath=0;if(b.keyActions.P.isPressed()&&(this.box.applyTorque("rlleg",600),
1200<this.lastBreath))u.play(),this.lastBreath=0;b.touchAction.isPressed()?this.box.applyImpulse("torso",f(this.entities.torso,i(b.touchAction.position,1/this.box.scale)),10):b.mouseAction.isPressed()&&this.box.applyImpulse("torso",f(this.entities.torso,i(b.mouseAction.position,1/this.box.scale)),10)}});h.entities.forEach(function(b){var a;"head"===b.id?a=new g(b):"logo"===b.id?a=new e(b):"Rectangle"===b.type?a=new j(b):"Circle"===b.type?a=new d(b):"Polygon"===b.type&&(a=new m(b));a&&(n.box.addBody(a),
n.entities[a.id]=a)});h.joints.forEach(function(b){var d;"Revolute"===b.type&&(d=new p(b));d&&n.box.addJoint(d)});n.run()})},"game/update":function(){define(["./Logo","frozen/plugins/loadSound!sounds/idiot.mp3","frozen/plugins/loadSound!sounds/slow.mp3","frozen/plugins/loadSound!sounds/javascript.mp3"],function(a,c,g,e){return function(h){this.lastIdiot+=h;this.lastBreath+=h;this.lastJS+=h;this.entities.head.angryTime-=h;var k=this;this.box.collisions&&this.box.collisions.head&&this.box.collisions.head.forEach(function(a){if(k.entities[a.id].staticBody){if(1500<
k.lastIdiot&&5<a.impulse)k.lastIdiot=0,c.play(),k.entities.head.angryTime=1500}else if("logo"===a.id&&1500<k.lastJS&&4<a.impulse)e.play(),k.lastJS=0,k.entities.head.angryTime=1500});if(this.box.collisions&&this.box.collisions.logo&&this.entities.logo.staticBody)h=this.entities.logo,h.staticBody=!1,this.box.removeBody("logo"),this.box.addBody(new a(h)),g.play()}})},"game/Logo":function(){define(["dcl","dcl/bases/Mixer","frozen/box2d/entities/Polygon","frozen/plugins/loadImage!images/logo.png"],function(a,
c,g,e){return a([c,g],{draw:a.superCall(function(){return function(a,c){c=c||this.scale||1;a.save();a.translate(this.x*c,this.y*c);a.rotate(this.angle);a.translate(-this.x*c,-this.y*c);a.drawImage(e,this.x*c-e.width/2,this.y*c-e.height/2);a.restore()}})})})},"dcl/dcl":function(){(function(a){"undefined"!=typeof define?define(["./mini"],a):"undefined"!=typeof module?module.exports=a(require("./mini")):dcl=a(dcl)})(function(a){function c(){}function g(a,f,e){var g=a||c,b=f||c,j=e||c,d=function(){var d;
g.apply(this,arguments);try{d=j.apply(this,arguments)}catch(a){d=a}b.call(this,arguments,d);if(d instanceof Error)throw d;return d};d.advices={b:a,a:f,f:e};return d}function e(e){return function(f,c){var g=f._m,b;g&&((b=+g.w[c]||0)&&b!=e&&a._e("set chaining",c,f,e,b),g.w[c]=e)}}var h=a(a.Super,{constructor:function(){this.b=this.f.before;this.a=this.f.after;this.f=this.f.around}});a.mix(a,{Advice:h,advise:function(a){return new h(a)},before:function(a){return new h({before:a})},after:function(a){return new h({after:a})},
around:a.superCall,chainBefore:e(1),chainAfter:e(2),isInstanceOf:function(a,f){if(a instanceof f)return!0;var e=a.constructor._m,c;if(e)for(e=e.b,c=e.length-1;0<=c;--c)if(e[c]===f)return!0;return!1},_sb:function(e,f,c,h){var h=h[c]=a._ec(f,c,"f"),b=a._ec(f,c,"b").reverse(),f=a._ec(f,c,"a"),h=e?a._st(h,1==e?function(b){return a._sc(b.reverse())}:a._sc,c):a._ss(h,c);return!b.length&&!f.length?h||function(){}:g(a._sc(b),a._sc(f),h)}});return a})},"dcl/mini":function(){(function(a){"undefined"!=typeof define?
define([],a):"undefined"!=typeof module?module.exports=a():dcl=a()})(function(){function a(b,d){var f=[0],c,j,m,i,s,q,r,w,v=0,t;if(b)if(b instanceof Array){i={};r=b.slice(0).reverse();for(w=r.length-1;0<=w;--w)if(j=r[w],j._u=j._u||e++,c=j._m){for(q=c.b,v=q.length-1;0<v;--v)t=q[v]._u,i[t]=(i[t]||0)+1;r[w]=q.slice(0)}else r[w]=[j];s={};a:for(;r.length;){for(w=0;w<r.length;++w)if(q=r[w],j=q[0],t=j._u,!i[t]){s[t]||(f.push(j),s[t]=1);q.shift();q.length?--i[q[0]._u]:r.splice(w,1);continue a}a._e("cycle",
d,r)}b=b[0];v=f.length-((i=b._m)&&b===f[f.length-(v=i.b.length)]?v:1)-1}else b._u=b._u||e++,f=f.concat((i=b._m)?i.b:b);c=b?a.delegate(b[k]):{};for(q=b&&(i=b._m)?a.delegate(i.w):{constructor:2};0<v;--v)if(j=f[v],i=j._m,l(c,i&&i.h||j[k]),i)for(t in r=i.w)q[t]=(+q[t]||0)|r[t];for(t in d)g(i=d[t])?q[t]=+q[t]||0:c[t]=i;s={b:f,h:d,w:q,c:{}};f[0]={_m:s,prototype:c};j=c;i=s.w;q=s.b;r=s.c;for(m in i)j[m]=a._sb(i[m],q,m,r);m=c[h];m._m=s;m[k]=c;f[0]=m;return a._p(m)}function c(b){this.f=b}function g(b){return b instanceof
c}var e=0,h="constructor",k="prototype",f=function(){},i={},l,b,j,d,m;(l=function(b,d){for(var a in d)b[a]=d[a]})(a,{mix:l,delegate:function(b){f[k]=b;b=new f;f[k]=null;return b},Super:c,superCall:function(b){return new c(b)},_p:function(b){return b},_e:function(b){throw Error("dcl: "+b);},_f:function(b,d){var a=b.f(d);a.ctr=b.ctr;return a},_ec:b=function(b,d,a){for(var f=b.length-1,e=[],c,j,m="f"==a;c=b[f];--f)if((j=c._m)?(j=j.h).hasOwnProperty(d)&&(g(j=j[d])?m?j.f:j=j[a]:m):m&&(j=c[k][d])&&j!==
i[d])j.ctr=c,e.push(j);return e},_sc:d=function(b){var d=b.length,a;return!d?0:1==d?(a=b[0],function(){a.apply(this,arguments)}):function(){for(var a=0;a<d;++a)b[a].apply(this,arguments)}},_ss:j=function(b,d){for(var f=0,e,c=i[d];e=b[f];++f)c=g(e)?b[f]=a._f(e,c,d):e;return d!=h?c:function(){c.apply(this,arguments)}},_st:m=function(b,d,f){for(var e=0,c,j,m=0;c=b[e];++e)g(c)&&(j=e-m,b[e]=a._f(c,!j?0:1==j?b[m]:d(b.slice(m,e)),f),m=e);j=e-m;return!j?0:1==j&&f!=h?b[m]:d(m?b.slice(m):b)},_sb:function(a,
f,e,c){f=c[e]=b(f,e,"f");return(a?m(f,d,e):j(f,e))||function(){}}});return a})},"dcl/bases/Mixer":function(){(function(a){"undefined"!=typeof define?define(["../mini"],a):"undefined"!=typeof module?module.exports=a(require("../mini")):dclBasesMixer=a(dcl)})(function(a){return a(null,{declaredClass:"dcl/bases/Mixer",constructor:function(c){a.mix(this,c)}})})},"frozen/box2d/entities/Polygon":function(){define(["dcl","./Entity","../../utils/scalePoints","../../utils/pointInPolygon","../../utils/translatePoints"],
function(a,c,g,e,h){return a(c,{declaredClass:"frozen/box2d/entities/Polygon",points:[],draw:a.superCall(function(a){return function(f,e){var e=e||this.scale||1,c=f.lineWidth;f.lineWidth=this.lineWidth;f.save();f.translate(this.x*e,this.y*e);f.rotate(this.angle);f.translate(-this.x*e,-this.y*e);f.fillStyle=this.fillStyle;f.strokeStyle=this.strokeStyle;f.beginPath();f.moveTo((this.x+this.points[0].x)*e,(this.y+this.points[0].y)*e);for(var b=1;b<this.points.length;b++)f.lineTo((this.points[b].x+this.x)*
e,(this.points[b].y+this.y)*e);f.lineTo((this.x+this.points[0].x)*e,(this.y+this.points[0].y)*e);f.closePath();f.fill();f.stroke();f.restore();f.lineWidth=c;a.apply(this,[f,e])}}),scaleShape:a.superCall(function(a){return function(f){this.points=g(this.points,f);a.apply(this,[f])}}),pointInShape:function(a){return e(a,h(this.points,this))}})})},"frozen/box2d/entities/Entity":function(){define(["dcl","dcl/bases/Mixer","dojo/_base/lang"],function(a,c,g){return a(c,{declaredClass:"frozen/box2d/entities/Entity",
id:0,x:0,y:0,scale:null,angle:0,center:null,restitution:0.3,density:1,friction:0.9,linearDamping:0,linearVelocity:null,angularVelocity:0,angularDamping:0,staticBody:!1,fillStyle:"rgba(128,128,128,0.5)",strokeStyle:"#000",lineWidth:1,maskBits:null,categoryBits:null,groupIndex:null,update:function(a){g.mixin(this,a)},draw:function(a,c){var c=c||this.scale||1,g=a.lineWidth;a.lineWidth=this.lineWidth;a.fillStyle=this.strokeStyle;a.beginPath();a.arc(this.x*c,this.y*c,4,0,2*Math.PI,!0);a.closePath();a.fill();
if(this.center)a.fillStyle="yellow",a.beginPath(),a.arc(this.center.x*c,this.center.y*c,2,0,2*Math.PI,!0),a.closePath(),a.fill();a.lineWidth=g},scaleShape:function(a){this.x*=a;this.y*=a;this.alreadyScaled=!0}})})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(a,c){c.add("bug-for-in-skips-shadowed",function(){for(var b in{toString:1})return 0;return 1});var g=c("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):
[],e=g.length,h=function(b,f,d){var e,c=0,g=a.global;if(!d)if(b.length){e=b[c++];try{d=a.scopeMap[e]&&a.scopeMap[e][1]}catch(h){}d=d||(e in g?g[e]:f?g[e]={}:void 0)}else return g;for(;d&&(e=b[c++]);)d=e in d?d[e]:f?d[e]={}:void 0;return d},k=Object.prototype.toString,f=function(b,a,d){return(d||[]).concat(Array.prototype.slice.call(b,a||0))},i=/\{([^\}]+)\}/g,l={_extraNames:g,_mixin:function(b,a,d){var f,h,i,k={};for(f in a)if(h=a[f],!(f in b)||b[f]!==h&&(!(f in k)||k[f]!==h))b[f]=d?d(h):h;if(c("bug-for-in-skips-shadowed")&&
a)for(i=0;i<e;++i)if(f=g[i],h=a[f],!(f in b)||b[f]!==h&&(!(f in k)||k[f]!==h))b[f]=d?d(h):h;return b},mixin:function(b,a){b||(b={});for(var d=1,f=arguments.length;d<f;d++)l._mixin(b,arguments[d]);return b},setObject:function(b,a,d){var f=b.split("."),b=f.pop();return(d=h(f,!0,d))&&b?d[b]=a:void 0},getObject:function(b,a,d){return h(b.split("."),a,d)},exists:function(b,a){return void 0!==l.getObject(b,!1,a)},isString:function(b){return"string"==typeof b||b instanceof String},isArray:function(b){return b&&
(b instanceof Array||"array"==typeof b)},isFunction:function(b){return"[object Function]"===k.call(b)},isObject:function(b){return void 0!==b&&(null===b||"object"==typeof b||l.isArray(b)||l.isFunction(b))},isArrayLike:function(b){return b&&void 0!==b&&!l.isString(b)&&!l.isFunction(b)&&!(b.tagName&&"form"==b.tagName.toLowerCase())&&(l.isArray(b)||isFinite(b.length))},isAlien:function(b){return b&&!l.isFunction(b)&&/\{\s*\[native code\]\s*\}/.test(""+b)},extend:function(b,a){for(var d=1,f=arguments.length;d<
f;d++)l._mixin(b.prototype,arguments[d]);return b},_hitchArgs:function(b,f){var d=l._toArray(arguments,2),e=l.isString(f);return function(){var c=l._toArray(arguments),g=e?(b||a.global)[f]:f;return g&&g.apply(b||this,d.concat(c))}},hitch:function(b,f){if(2<arguments.length)return l._hitchArgs.apply(a,arguments);f||(f=b,b=null);if(l.isString(f)){b=b||a.global;if(!b[f])throw['lang.hitch: scope["',f,'"] is null (scope="',b,'")'].join("");return function(){return b[f].apply(b,arguments||[])}}return!b?
f:function(){return f.apply(b,arguments||[])}},delegate:function(){function b(){}return function(a,d){b.prototype=a;var f=new b;b.prototype=null;d&&l._mixin(f,d);return f}}(),_toArray:c("ie")?function(){function b(b,a,f){f=f||[];for(a=a||0;a<b.length;a++)f.push(b[a]);return f}return function(a){return(a.item?b:f).apply(this,arguments)}}():f,partial:function(b){return l.hitch.apply(a,[null].concat(l._toArray(arguments)))},clone:function(b){if(!b||"object"!=typeof b||l.isFunction(b))return b;if(b.nodeType&&
"cloneNode"in b)return b.cloneNode(!0);if(b instanceof Date)return new Date(b.getTime());if(b instanceof RegExp)return RegExp(b);var a,d,f;if(l.isArray(b)){a=[];for(d=0,f=b.length;d<f;++d)d in b&&a.push(l.clone(b[d]))}else a=b.constructor?new b.constructor:{};return l._mixin(a,b,l.clone)},trim:String.prototype.trim?function(b){return b.trim()}:function(b){return b.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(b,a,d){return b.replace(d||i,l.isFunction(a)?a:function(b,d){return l.getObject(d,
!1,a)})}};l.mixin(a,l);return l})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(a,c,g,e){var h,a={},k={},f={config:c,global:this,dijit:a,dojox:k},a={dojo:["dojo",f],dijit:["dijit",a],dojox:["dojox",k]},e=g.map&&g.map[e.id.match(/[^\/]+/)[0]];for(h in e)a[h]?a[h][0]=e[h]:a[h]=[e[h],{}];for(h in a)e=a[h],e[1]._scopeName=e[0],c.noGlobals||(this[e[0]]=e[1]);f.scopeMap=a;f.baseUrl=f.config.baseUrl=g.baseUrl;f.isAsync=g.async;f.locale=c.locale;c="$Rev$".match(/\d+/);
f.version={major:1,minor:8,patch:3,flag:"",revision:c?+c[0]:NaN,toString:function(){var a=f.version;return a.major+"."+a.minor+"."+a.patch+a.flag+" ("+a.revision+")"}};Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(f);f.exit=function(){};f.deprecated=f.experimental=function(){};f._hasResource={};return f})},"dojo/has":function(){define(["require","module"],function(a){var c=a.has||function(){};c.add("touch","ontouchstart"in document);
c.add("device-width",screen.availWidth||innerWidth);a=document.createElement("form");c.add("dom-attributes-explicit",0==a.attributes.length);c.add("dom-attributes-specified-flag",0<a.attributes.length&&40>a.attributes.length);c.clearElement=function(a){a.innerHTML="";return a};c.normalize=function(a,e){var h=a.match(/[\?:]|[^:\?]*/g),k=0,f=function(a){var e=h[k++];if(":"==e)return 0;if("?"==h[k++]){if(!a&&c(e))return f();f(!0);return f(a)}return e||0};return(a=f())&&e(a)};c.load=function(a,e,c){a?
e([a],c):c()};return c})},"dojo/_base/config":function(){define(["../has","require"],function(a,c){var g={},e=c.rawConfig,h;for(h in e)g[h]=e[h];return g})},"dojo/sniff":function(){define(["./has"],function(a){var c=navigator,g=c.userAgent,c=c.appVersion,e=parseFloat(c);a.add("air",0<=g.indexOf("AdobeAIR"));a.add("khtml",0<=c.indexOf("Konqueror")?e:void 0);a.add("webkit",parseFloat(g.split("WebKit/")[1])||void 0);a.add("chrome",parseFloat(g.split("Chrome/")[1])||void 0);a.add("safari",0<=c.indexOf("Safari")&&
!a("chrome")?parseFloat(c.split("Version/")[1]):void 0);a.add("mac",0<=c.indexOf("Macintosh"));a.add("quirks","BackCompat"==document.compatMode);a.add("ios",/iPhone|iPod|iPad/.test(g));a.add("android",parseFloat(g.split("Android ")[1])||void 0);if(!a("webkit")){0<=g.indexOf("Opera")&&a.add("opera",9.8<=e?parseFloat(g.split("Version/")[1])||e:e);0<=g.indexOf("Gecko")&&!a("khtml")&&!a("webkit")&&a.add("mozilla",e);a("mozilla")&&a.add("ff",parseFloat(g.split("Firefox/")[1]||g.split("Minefield/")[1])||
void 0);if(document.all&&!a("opera"))g=parseFloat(c.split("MSIE ")[1])||void 0,(c=document.documentMode)&&5!=c&&Math.floor(g)!=c&&(g=c),a.add("ie",g);a.add("wii","undefined"!=typeof opera&&opera.wiiremote)}return a})},"frozen/utils/scalePoints":function(){define(function(){function a(c,g){if(Array.isArray(c)){var e=[];c.forEach(function(c){e.push(a(c,g))});c=e}else c="object"===typeof g?{x:c.x*g.x,y:c.y*g.y}:{x:c.x*g,y:c.y*g};return c}return a})},"frozen/utils/pointInPolygon":function(){define(function(){return function(a,
c){if(!a||!c)return!1;for(var g=c.points||c,e=!1,h=g.length-1,k=0;k<g.length;h=k++){var f=g[k].x,i=g[k].y,l=g[h].x,h=g[h].y;i>a.y!==h>a.y&&a.x<(l-f)*(a.y-i)/(h-i)+f&&(e=!e)}return e}})},"frozen/utils/translatePoints":function(){define(function(){function a(c,g){if(Array.isArray(c)){var e=[];c.forEach(function(c){e.push(a(c,g))});c=e}else c={x:c.x,y:c.y},null!=g.x&&(c.x+=g.x),null!=g.y&&(c.y+=g.y);return c}return a})},"frozen/plugins/loadImage":function(){define(["../ResourceManager","../utils/parseString"],
function(a,c){var g=new a;return{load:function(a,h,k){a=c(a);"string"!==typeof a?Object.keys(a).forEach(function(f){a[f]=h.toUrl(a[f])}):a=h.toUrl(a);var f=g.loadImage(a);k(f)}}})},"frozen/ResourceManager":function(){define(["./plugins/sound!","dcl","dcl/bases/Mixer","dojo/_base/lang","dojo/on"],function(a,c,g,e,h){function k(a,e){var c=e;a&&(c=[a,e].join("/"));return c.replace(/\/{2,}/g,"/")}return c(g,{allLoaded:!1,imageDir:null,soundDir:null,resourceList:{},loadImage:function(a){var c=!1;if(!Array.isArray(a))if("string"===
typeof a)c=!0,a=[a];else if("object"!==typeof a)return;for(var g in a)if(a.hasOwnProperty(g)){var b=k(this.imageDir,a[g]);if(this.resourceList[b])a[g]=this.resourceList[b].img;else{this.allLoaded=!1;var j=new Image,d={name:b,img:j,complete:!1},m=e.partial(function(b){b.complete=!0},d);h(j,"load",m);j.src=b;this.resourceList[b]=d;a[g]=j}}return c?a[0]:a},loadSound:function(f){var e=!1;if(!Array.isArray(f))if("string"===typeof f)e=!0,f=[f];else if("object"!==typeof f)return;for(var c in f)if(f.hasOwnProperty(c)){var b=
k(this.soundDir,f[c]);if(this.resourceList[b])f[c]=this.resourceList[b];else{this.allLoaded=!1;var j=new a(b);this.resourceList[b]=j;f[c]=j}}return e?f[0]:f},resourcesReady:function(){if(!this.allLoaded){for(var a in this.resourceList)if(!this.resourceList[a].complete)return!1;this.allLoaded=!0}return!0},getPercentComplete:function(){var a=0,e=0,c;for(c in this.resourceList){var b=this.resourceList[c];e++;b.complete&&(a+=1)}return 0===e?0:Math.round(100*(a/e))}})})},"frozen/plugins/sound":function(){define(["../sounds/Sound",
"../sounds/WebAudio","../sounds/HTML5Audio","dojo/has"],function(a,c,g,e){return{load:function(h,k,f){return e("WebAudio")?f(c):e("HTML5Audio")?f(g):f(a)}}})},"frozen/sounds/Sound":function(){define(["dcl"],function(a){return a(null,{declaredClass:"frozen/sounds/Sound",name:null,complete:!1,formats:{"audio/mpeg":".mp3","audio/webm":".webm","audio/ogg":".ogg","audio/wav":".wav","audio/aac":".aac","audio/x-m4a":".m4a"},probably:null,maybe:null,constructor:function(a){if(!this.probably)this.probably=
[];if(!this.maybe)this.maybe=[];"string"===typeof a&&this.load(a)},load:function(a){this.name=a;this.complete=!0},loop:function(){},play:function(){},_initAudio:function(){},_chooseFormat:function(){if(!this.probably.length&&!this.maybe.length){var a=new Audio,g,e;for(g in this.formats)e=a.canPlayType(g),"probably"===e?this.probably.push(this.formats[g]):"maybe"===e&&this.maybe.push(this.formats[g])}return this.probably.length?this.probably[0]:this.maybe.length?this.maybe[0]:""},_nextFormat:function(){if(1<
this.probably.length)return this.probably.shift(),this.probably[0];if(1===this.probably.length&&(this.probably.length=0,this.maybe.length))return this.maybe[0];if(1<this.maybe.length)return this.maybe.shift(),this.maybe[0];if(1===this.maybe.length)this.maybe.length=0;return""}})})},"frozen/sounds/WebAudio":function(){define("./Sound,../utils/removeExtension,dcl,dojo/on,dojo/has,../shims/AudioContext".split(","),function(a,c,g,e,h){h.add("WebAudio",function(a){return!!a.AudioContext});var k=null;h("WebAudio")&&
(k=new window.AudioContext);return g(a,{declaredClass:"frozen/sounds/WebAudio",audioContext:k,buffer:null,load:function(a){var g=this;this.name=a;var h=c(a);h===a&&(a=h+this._chooseFormat());h=new XMLHttpRequest;h.open("GET",a,!0);h.responseType="arraybuffer";e.once(h,"load",function(b){g.audioContext.decodeAudioData(b.target.response,function(b){g.buffer=b;g.complete=!0},function(){g._nextFormat()?g.load(g.name):g.complete=!0})});h.send()},loop:function(a){this.buffer&&this._initAudio(a,!0).noteOn(0)},
play:function(a,e){this.buffer&&this._initAudio(a,!1).noteOn(e||0)},_initAudio:function(a,e){var e="boolean"===typeof e?e:!1,c=this.audioContext.createBufferSource();c.buffer=this.buffer;c.loop=e;if(a){var b=this.audioContext.createGainNode();b.gain.value=a;c.connect(b);b.connect(this.audioContext.destination)}else c.connect(this.audioContext.destination);return c}})})},"frozen/utils/removeExtension":function(){define(function(){return function(a){var c=a.lastIndexOf(".");return 0>c?a:a.slice(0,c)}})},
"dojo/on":function(){define(["require","./_base/kernel","./has"],function(a,c,g){function e(b,a,d,e,c){if(e=a.match(/(.*):(.*)/))return a=e[2],e=e[1],f.selector(e,a).call(c,b,d);g("touch")&&(i.test(a)&&(d=u(d)),!g("event-orientationchange")&&"orientationchange"==a&&(a="resize",b=window,d=u(d)));m&&(d=m(d));if(b.addEventListener){var h=a in j,k=h?j[a]:a;b.addEventListener(k,d,h);return{remove:function(){b.removeEventListener(k,d,h)}}}a="on"+a;throw Error("Target must be an event emitter");}function h(){this.cancelable=
!1}function k(){this.bubbles=!1}a=window.ScriptEngineMajorVersion;g.add("jscript",a&&a()+ScriptEngineMinorVersion()/10);g.add("event-orientationchange",g("touch")&&!g("android"));g.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);var f=function(b,a,d,c){return"function"==typeof b.on&&"function"!=typeof a?b.on(a,d):f.parse(b,a,d,e,c,this)};f.pausable=function(b,a,d,e){var c,b=f(b,a,function(){if(!c)return d.apply(this,arguments)},
e);b.pause=function(){c=!0};b.resume=function(){c=!1};return b};f.once=function(b,a,d){var e=f(b,a,function(){e.remove();return d.apply(this,arguments)});return e};f.parse=function(b,a,d,e,f,c){if(a.call)return a.call(c,b,d);if(-1<a.indexOf(",")){for(var a=a.split(/\s*,\s*/),g=[],j=0,h;h=a[j++];)g.push(e(b,h,d,f,c));g.remove=function(){for(var b=0;b<g.length;b++)g[b].remove()};return g}return e(b,a,d,f,c)};var i=/^touch/;f.selector=function(b,a,d){return function(e,g){function j(a){for(h=h&&h.matches?
h:c.query;!h.matches(a,b,e);)if(a==e||!1===d||!(a=a.parentNode)||1!=a.nodeType)return;return a}var h="function"==typeof b?{matches:b}:this,k=a.bubble;return k?f(e,k(j),g):f(e,a,function(b){var a=j(b.target);return a&&g.call(a,b)})}};var l=[].slice,b=f.emit=function(b,a,d){var e=l.call(arguments,2),f="on"+a;if("parentNode"in b){var c=e[0]={},g;for(g in d)c[g]=d[g];c.preventDefault=h;c.stopPropagation=k;c.target=b;c.type=a;d=c}do b[f]&&b[f].apply(b,e);while(d&&d.bubbles&&(b=b.parentNode));return d&&
d.cancelable&&d},j={};if(!g("event-stopimmediatepropagation"))var d=function(){this.modified=this.immediatelyStopped=!0},m=function(b){return function(a){if(!a.immediatelyStopped)return a.stopImmediatePropagation=d,b.apply(this,arguments)}};j={focusin:"focus",focusout:"blur"};f.emit=function(a,d,e){if(a.dispatchEvent&&document.createEvent){var c=a.ownerDocument.createEvent("HTMLEvents");c.initEvent(d,!!e.bubbles,!!e.cancelable);for(var g in e)g in c||(c[g]=e[g]);return a.dispatchEvent(c)&&c}return b.apply(f,
arguments)};if(g("touch"))var p=function(){},o=window.orientation,u=function(b){return function(a){var d=a.corrected;if(!d){var e=a.type;try{delete a.type}catch(f){}a.type?(p.prototype=a,d=new p,d.preventDefault=function(){a.preventDefault()},d.stopPropagation=function(){a.stopPropagation()}):(d=a,d.type=e);a.corrected=d;if("resize"==e){if(o==window.orientation)return null;o=window.orientation;d.type="orientationchange";return b.call(this,d)}if(!("rotation"in d))d.rotation=0,d.scale=1;var e=d.changedTouches[0],
c;for(c in e)delete d[c],d[c]=e[c]}return b.call(this,d)}};return f})},"frozen/shims/AudioContext":function(){define(function(){for(var a=["ms","moz","webkit","o"],c=0;c<a.length&&!window.AudioContext;++c)window.AudioContext=window[a[c]+"AudioContext"]})},"frozen/sounds/HTML5Audio":function(){define(["./Sound","../utils/removeExtension","dcl","dojo/on","dojo/has"],function(a,c,g,e,h){h.add("HTML5Audio",function(a){return!!a.Audio});h.add("shittySound",function(){return!(!h("android")&&!h("ios")||
!h("webkit"))});return g(a,{declaredClass:"frozen/sounds/HTML5Audio",audio:null,load:function(a){this.audio=new Audio;var f=this;this.name=a;var g=c(a);g===a&&(a=g+this._chooseFormat());if(h("shittySound"))e.once(document,"touchstart",function(){f.audio.load()}),this._updateCurrentTime=null,e.once(this.audio,"progress",function(){null!==f._updateCurrentTime&&f._updateCurrentTime()});this.audio.pause();this.audio.preload="auto";e.once(this.audio,"error",function(){f._nextFormat()?f.load(f.name):(f.audio.src=
null,f.complete=!0)});e.once(this.audio,"loadeddata",function(){f.complete=!0});this.audio.src=a},loop:function(a){var f=this._initAudio(a,!0);e.once(f,"loadeddata",function(){f.play()})},play:function(a,f){f=f||0;if(h("shittySound"))try{return this.audio.currentTime=f/1E3,this.audio.play()}catch(c){return this._updateCurrentTime=function(){this._updateCurrentTime=null;this.audio.currentTime=f/1E3;return this.audio.play()},this.audio.play()}var g=this._initAudio(a,!1);e.once(g,"loadeddata",function(){g.currentTime=
f/1E3;g.play()})},_initAudio:function(a,e){var e="boolean"===typeof e?e:!1,c=new Audio;c.pause();c.volume=a||1;c.loop=e;c.preload="auto";c.mozLoadFrom?c.mozLoadFrom(this.audio):c.src=this.audio.currentSrc;return c}})})},"frozen/utils/parseString":function(){define(function(){return function(a){0===a.indexOf("{")&&a.lastIndexOf("}")===a.length-1?a=JSON.parse(a.replace(/,/g,'","').replace(/:(?!\/\/)/g,'":"').replace(/\{/,'{"').replace(/\}/,'"}')):0===a.indexOf("[")&&a.lastIndexOf("]")===a.length-1&&
(a=JSON.parse(a.replace(/,/g,'","').replace(/\[/g,'["').replace(/\]/g,'"]')));return a}})},"frozen/plugins/loadSound":function(){define(["../ResourceManager","../utils/parseString"],function(a,c){var g=new a;return{load:function(a,h,k){a=c(a);"string"!==typeof a?Object.keys(a).forEach(function(f){a[f]=h.toUrl(a[f])}):a=h.toUrl(a);var f=g.loadSound(a);k(f)}}})},"game/draw":function(){define(["frozen/plugins/loadImage!images/background.png"],function(a){return function(c){c.drawImage(a,0,0);for(var g in this.entities)this.entities[g].center=
null,this.entities[g].draw(c)}})},"game/Head":function(){define(["dcl","dcl/bases/Mixer","frozen/box2d/entities/Circle","frozen/plugins/loadImage!images/head.png","frozen/plugins/loadImage!images/angryHead.png"],function(a,c,g,e,h){return a([c,g],{angryTime:0,draw:a.superCall(function(){return function(a,f){f=f||this.scale||1;a.save();a.translate(this.x*f,this.y*f);a.rotate(this.angle);a.translate(-this.x*f,-this.y*f);0<this.angryTime?a.drawImage(h,this.x*f-h.width/2,this.y*f-h.height/2):a.drawImage(e,
this.x*f-e.width/2,this.y*f-e.height/2);a.restore()}})})})},"frozen/box2d/entities/Circle":function(){define(["dcl","./Entity","../../utils/distance"],function(a,c,g){return a(c,{declaredClass:"frozen/box2d/entities/Circle",radius:1,draw:a.superCall(function(a){return function(c,g){var g=g||this.scale||1,f=c.lineWidth;c.lineWidth=this.lineWidth;c.fillStyle=this.fillStyle;c.strokeStyle=this.strokeStyle;c.beginPath();c.arc(this.x*g,this.y*g,this.radius*g,0,2*Math.PI,!0);c.closePath();c.fill();c.stroke();
this.staticBody||(c.save(),c.translate(this.x*g,this.y*g),c.rotate(this.angle),c.translate(-this.x*g,-this.y*g),c.beginPath(),c.moveTo(this.x*g,this.y*g),c.lineTo(this.x*g,this.y*g-this.radius*g),c.closePath(),c.stroke(),c.restore());c.lineWidth=f;a.apply(this,[c,g])}}),scaleShape:a.superCall(function(a){return function(c){this.radius*=c;a.apply(this,[c])}}),pointInShape:function(a){return g(a,this)<=this.radius}})})},"frozen/utils/distance":function(){define(function(){return function(a,c){return Math.sqrt((c.x-
a.x)*(c.x-a.x)+(c.y-a.y)*(c.y-a.y))}})},"game/entities":function(){define({entities:[{x:427.5,y:609.5,halfWidth:1E3,halfHeight:16.5,staticBody:!0,zone:!1,type:"Rectangle",id:0,restitution:0},{x:-50,y:285.5,halfWidth:23.5,halfHeight:500,staticBody:!0,zone:!1,type:"Rectangle",id:1},{x:430,y:-50,halfWidth:1E3,halfHeight:27.5,staticBody:!0,zone:!1,type:"Rectangle",id:2},{x:970,y:330.5,halfWidth:49.5,halfHeight:500,staticBody:!0,zone:!1,type:"Rectangle",id:3},{points:[{x:-19.875,y:19.875},{x:-4.875,y:-28.125},
{x:9.125,y:-44.125},{x:11.125,y:-45.125},{x:19.125,y:-37.125},{x:9.125,y:18.875},{x:-2.875,y:58.875},{x:-20.875,y:56.875}],x:167.875,y:310.125,staticBody:!1,zone:!1,type:"Polygon",fillStyle:"#192EC8",strokeStyle:"#192EC8",id:"luleg"},{points:[{x:-14.428571428571416,y:-40.71428571428572},{x:-2.4285714285714164,y:-47.71428571428572},{x:21.571428571428584,y:9.285714285714278},{x:20.571428571428584,y:58.28571428571428},{x:2.5714285714285836,y:56.28571428571428},{x:-12.428571428571416,y:4.285714285714278},
{x:-15.428571428571416,y:-39.71428571428572}],x:217.42857142857142,y:312.7142857142857,staticBody:!1,zone:!1,type:"Polygon",fillStyle:"#192EC8",strokeStyle:"#192EC8",id:"ruleg"},{points:[{x:-11.666666666666657,y:-46.66666666666666},{x:9.333333333333343,y:-47.66666666666666},{x:27.333333333333343,y:-41.66666666666666},{x:30.333333333333343,y:-11.666666666666657},{x:28.333333333333343,y:59.33333333333334},{x:6.333333333333343,y:69.33333333333334},{x:-20.666666666666657,y:56.33333333333334},{x:-33.66666666666666,
y:-3.666666666666657},{x:-35.66666666666666,y:-33.66666666666666}],x:190.66666666666666,y:215.66666666666666,staticBody:!1,zone:!1,type:"Polygon",fillStyle:"#c1bda7",strokeStyle:"#c1bda7",id:"torso"},{x:189,y:156,halfWidth:9,halfHeight:20,staticBody:!1,zone:!1,type:"Rectangle",fillStyle:"#facc9b",strokeStyle:"#facc9b",id:"neck"},{x:189,y:143,radius:24,staticBody:!1,zone:!1,type:"Circle",fillStyle:"rgba(239,208,207,0.2)",id:"head"},{points:[{x:-2.75,y:-33},{x:18.25,y:-32},{x:1.25,y:35},{x:-16.75,y:30}],
x:147.75,y:217,staticBody:!1,zone:!1,type:"Polygon",fillStyle:"#c1bda7",strokeStyle:"#c1bda7",id:"luarm"},{points:[{x:-4,y:-37},{x:24,y:30},{x:5,y:37},{x:-25,y:-30}],x:234,y:214,staticBody:!1,zone:!1,type:"Polygon",fillStyle:"#c1bda7",strokeStyle:"#c1bda7",id:"ruarm"},{points:[{x:-8,y:-15},{x:4,y:-26},{x:13,y:-25},{x:13,y:-7},{x:-7,y:37},{x:-15,y:36}],x:134,y:267,staticBody:!1,zone:!1,type:"Polygon",fillStyle:"#facc9b",strokeStyle:"#facc9b",id:"llarm"},{points:[{x:-11,y:-19.285714285714278},{x:-2,
y:-22.285714285714278},{x:9,y:-10.285714285714278},{x:19,y:32.71428571428572},{x:9,y:36.71428571428572},{x:-12,y:0.7142857142857224},{x:-12,y:-18.285714285714278}],x:253,y:258.2857142857143,staticBody:!1,zone:!1,type:"Polygon",fillStyle:"#facc9b",strokeStyle:"#facc9b",id:"rlarm"},{points:[{x:4.400000000000006,y:-20.80000000000001},{x:11.400000000000006,y:-5.800000000000011},{x:1.4000000000000057,y:17.19999999999999},{x:-7.599999999999994,y:16.19999999999999},{x:-9.599999999999994,y:-6.800000000000011}],
x:120.6,y:318.8,staticBody:!1,zone:!1,type:"Polygon",fillStyle:"#facc9b",strokeStyle:"#facc9b",id:"lhand"},{points:[{x:-8,y:-16.833333333333314},{x:-6,y:-15.833333333333314},{x:8,y:-6.833333333333314},{x:14,y:16.166666666666686},{x:4,y:22.166666666666686},{x:-12,y:1.1666666666666856}],x:273,y:302.8333333333333,staticBody:!1,zone:!1,type:"Polygon",fillStyle:"#facc9b",strokeStyle:"#facc9b",id:"rhand"},{points:[{x:-9.285714285714278,y:-12.571428571428555},{x:-0.2857142857142776,y:-24.571428571428555},
{x:1.7142857142857224,y:-25.571428571428555},{x:9.714285714285722,y:-24.571428571428555},{x:11.714285714285722,y:-1.5714285714285552},{x:0.7142857142857224,y:44.428571428571445},{x:-14.285714285714278,y:44.428571428571445}],x:153.28571428571428,y:384.57142857142856,staticBody:!1,zone:!1,type:"Polygon",fillStyle:"#192EC8",strokeStyle:"#192EC8",id:"llleg"},{points:[{x:-7,y:-25.142857142857167},{x:-5,y:-26.142857142857167},{x:3,y:-26.142857142857167},{x:11,y:-10.142857142857167},{x:11,y:42.85714285714283},
{x:-1,y:45.85714285714283},{x:-12,y:-1.1428571428571672}],x:232,y:387.14285714285717,staticBody:!1,zone:!1,type:"Polygon",fillStyle:"#192EC8",strokeStyle:"#192EC8",id:"rlleg"},{points:[{x:1.75,y:-16.25},{x:10.75,y:-16.25},{x:10.75,y:15.75},{x:-23.25,y:16.75}],x:142.25,y:437.25,staticBody:!1,zone:!1,type:"Polygon",fillStyle:"black",id:"lfoot"},{points:[{x:-8,y:-10.199999999999989},{x:-6,y:-11.199999999999989},{x:0,y:-13.199999999999989},{x:24,y:17.80000000000001},{x:-10,y:16.80000000000001}],x:241,
y:435.2,staticBody:!1,zone:!1,type:"Polygon",fillStyle:"black",id:"rfoot"},{points:[{x:-49,y:-26.5},{x:0,y:-53.5},{x:48,y:-27.5},{x:49,y:26.5},{x:1,y:55.5},{x:-49,y:25.5}],x:748,y:249.5,staticBody:!0,sensor:!1,type:"Polygon",id:"logo"}],joints:[{bodyId1:"head",bodyId2:"neck",type:"Revolute",id:"head",jointAttributes:{enableLimit:!0,lowerAngle:-0.5,upperAngle:0.5}},{bodyId1:"neck",bodyId2:"torso",type:"Revolute",id:"neck",bodyPoint1:{x:190,y:173}},{bodyId1:"luarm",bodyId2:"torso",type:"Revolute",id:"lshoulder",
bodyPoint1:{x:160,y:189},jointAttributes:{enableLimit:!0,lowerAngle:-3,upperAngle:0.9}},{bodyId1:"ruarm",bodyId2:"torso",type:"Revolute",id:"rshoulder",bodyPoint1:{x:216,y:196},jointAttributes:{enableLimit:!0,lowerAngle:-0.9,upperAngle:3}},{bodyId1:"llarm",bodyId2:"luarm",type:"Revolute",id:"lelbow",bodyPoint1:{x:142,y:245}},{bodyId1:"rlarm",bodyId2:"ruarm",type:"Revolute",id:"relbow",bodyPoint1:{x:248,y:243}},{bodyId1:"luleg",bodyId2:"torso",type:"Revolute",id:"lhip",bodyPoint1:{x:181,y:274},jointAttributes:{enableLimit:!0,
lowerAngle:-1.570796,upperAngle:0.785385}},{bodyId1:"ruleg",bodyId2:"torso",type:"Revolute",id:"rhip",bodyPoint1:{x:210,y:273},jointAttributes:{enableLimit:!0,lowerAngle:-0.785385,upperAngle:1.570796}},{bodyId1:"llleg",bodyId2:"luleg",type:"Revolute",id:"lknee",bodyPoint1:{x:157,y:364},jointAttributes:{enableLimit:!0,lowerAngle:-0.185385,upperAngle:1.570796}},{bodyId1:"rlleg",bodyId2:"ruleg",type:"Revolute",id:"rknee",bodyPoint1:{x:231,y:364},jointAttributes:{enableLimit:!0,lowerAngle:-1.570796,upperAngle:0.185385}},
{bodyId1:"lhand",bodyId2:"llarm",type:"Revolute",id:"lhand",bodyPoint1:{x:125,y:302},jointAttributes:{enableLimit:!0,lowerAngle:-1.6,upperAngle:1.6}},{bodyId1:"rhand",bodyId2:"rlarm",type:"Revolute",id:"rhand",bodyPoint1:{x:268,y:290},jointAttributes:{enableLimit:!0,lowerAngle:-1.6,upperAngle:1.6}},{bodyId1:"lfoot",bodyId2:"llleg",type:"Revolute",id:"lfoot",bodyPoint1:{x:147,y:426},jointAttributes:{enableLimit:!0,lowerAngle:-1.070796,upperAngle:0.785385}},{bodyId1:"rfoot",bodyId2:"rlleg",type:"Revolute",
id:"rfoot",bodyPoint1:{x:238,y:427},jointAttributes:{enableLimit:!0,lowerAngle:-0.785385,upperAngle:1.070796}}],canvas:{height:600,width:800},backImg:null})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(a,c){return a.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:c("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,
RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:c("mac")&&!c("air")?c("safari")?91:224:17}})},
"frozen/utils/radiansFromCenter":function(){define(function(){var a={x:0,y:0};return function(c,g){c=c||a;return c.x===g.x&&c.y===g.y?0:c.x===g.x?c.y>g.y?0:Math.PI:c.y===g.y?c.x>g.x?1.5*Math.PI:Math.PI/2:c.x<g.x&&c.y>g.y?Math.atan((g.x-c.x)/(c.y-g.y)):c.x<g.x&&c.y<g.y?Math.PI/2+Math.atan((g.y-c.y)/(g.x-c.x)):c.x>g.x&&c.y<g.y?Math.PI+Math.atan((c.x-g.x)/(g.y-c.y)):1.5*Math.PI+Math.atan((c.y-g.y)/(c.x-g.x))}})},"frozen/box2d/BoxGame":function(){define(["../GameCore","./Box","dcl"],function(a,c,g){return g(a,
{box:null,boxUpdating:!0,entities:null,joints:null,constructor:function(){if(!this.box)this.box=new c;if(!this.entities)this.entities={};if(!this.joints)this.joints={}},preUpdate:function(a){this.boxUpdating&&(this.box.update(a),this.box.updateExternalState(this.entities))},addBody:function(a){this.entities[a.id]=a;this.box.addBody(a)},removeBody:function(a){this.box.removeBody(a.id);delete this.entities[a.id]},addJoint:function(a){this.joints[a.id]=a;this.box.addJoint(a)},removeJoint:function(a){this.box.removeJoint(a.id);
delete this.joints[a.id]}})})},"frozen/GameCore":function(){define("dcl,dcl/bases/Mixer,dojo/_base/lang,dojo/dom,./InputManager,./ResourceManager,./shims/RAF".split(","),function(a,c,g,e,h,k){return a(c,{statics:{FONT_SIZE:24},isRunning:!1,canvasId:null,maxStep:40,contextType:"2d",height:0,width:0,resourceManager:null,inputManager:null,loadingForeground:"#00F",loadingBackground:"#FFF",gameAreaId:null,canvasPercentage:0,setHeight:function(a){this.height=a;this.canvas.height=a},setWidth:function(a){this.width=
a;this.canvas.width=a},stop:function(){this.isRunning=!1},run:function(){this.isRunning||(this.init(),this.loadResources(this.resourceManager),this.initInput(this.inputManager),this.launchLoop())},loadResources:function(){},init:function(){if(!this.canvas)this.canvas=e.byId(this.canvasId);if(this.canvas){if(!this.context)this.context=this.canvas.getContext(this.contextType);if(this.context){this.setHeight(this.height||this.canvas.height);this.setWidth(this.width||this.canvas.width);if(!this.inputManager)this.inputManager=
this.gameAreaId&&this.canvasPercentage?new h({canvas:this.canvas,gameArea:e.byId(this.gameAreaId),canvasPercentage:this.canvasPercentage}):new h({canvas:this.canvas});this.inputManager.resize();if(!this.resourceManager)this.resourceManager=new k;this.loadResources(this.resourceManager);this.isRunning=!0}else alert("Sorry, your browser does not support a "+this.contextType+" drawing surface on canvas.  I recommend any browser but Internet Explorer")}else alert("Sorry, your browser does not support canvas.  I recommend any browser but Internet Explorer")},
initInput:function(){},handleInput:function(){},gameLoop:function(){this.currTime=(new Date).getTime();this.elapsedTime=Math.min(this.currTime-this.prevTime,this.maxStep);this.prevTime=this.currTime;this.resourceManager&&!this.resourceManager.resourcesReady()?(this.updateLoadingScreen(this.elapsedTime),this.drawLoadingScreen(this.context)):(this.handleInput(this.inputManager,this.elapsedTime),this.paused||(this.preUpdate(this.elapsedTime),this.update(this.elapsedTime)),this.context.save(),this.draw(this.context),
this.context.restore())},launchLoop:function(){this.elapsedTime=0;var a=Date.now();this.prevTime=this.currTime=a;this.loopRunner=g.hitch(this,this.loopRunner);window.requestAnimationFrame(this.loopRunner)},loopRunner:function(){this.gameLoop();window.requestAnimationFrame(this.loopRunner)},preUpdate:function(){},update:function(){},updateLoadingScreen:function(){},draw:function(a){if("2d"===this.contextType)a.font="14px sans-serif",a.fillText("This game does not have its own draw function!",10,50)},
drawLoadingScreen:function(a){if(this.resourceManager&&"2d"===this.contextType)a.fillStyle=this.loadingBackground,a.fillRect(0,0,this.width,this.height),a.fillStyle=this.loadingForeground,a.strokeStyle=this.loadingForeground,a.font="bold "+Math.floor(this.height/12)+"px sans-serif",a.fillText("Loading... "+this.resourceManager.getPercentComplete()+"%",0.1*this.width,0.55*this.height),a.strokeRect(0.1*this.width,0.7*this.height,0.8*this.width,0.1*this.height),a.fillRect(0.1*this.width,0.7*this.height,
0.8*this.width*this.resourceManager.getPercentComplete()/100,0.1*this.height),a.lineWidth=4}})})},"dojo/dom":function(){define(["./sniff","./_base/window"],function(a,c){if(7>=a("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(g){}var e={};e.byId=a("ie")?function(a,e){if("string"!=typeof a)return a;var g=e||c.doc,h=a&&g.getElementById(a);if(h&&(h.attributes.id.value==a||h.id==a))return h;g=g.all[a];if(!g||g.nodeName)g=[g];for(var b=0;h=g[b++];)if(h.attributes&&h.attributes.id&&h.attributes.id.value==
a||h.id==a)return h}:function(a,e){return("string"==typeof a?(e||c.doc).getElementById(a):a)||null};e.isDescendant=function(a,c){try{a=e.byId(a);for(c=e.byId(c);a;){if(a==c)return!0;a=a.parentNode}}catch(g){}return!1};a.add("css-user-select",function(a,c,e){if(!e)return!1;var a=e.style,c=["Khtml","O","ms","Moz","Webkit"],e=c.length,g="userSelect";do if("undefined"!==typeof a[g])return g;while(e--&&(g=c[e]+"UserSelect"));return!1});var h=a("css-user-select");e.setSelectable=h?function(a,c){e.byId(a).style[h]=
c?"":"none"}:function(a,c){var a=e.byId(a),g=a.getElementsByTagName("*"),h=g.length;if(c)for(a.removeAttribute("unselectable");h--;)g[h].removeAttribute("unselectable");else for(a.setAttribute("unselectable","on");h--;)g[h].setAttribute("unselectable","on")};return e})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(a,c,g){var e={global:a.global,doc:this.document||null,body:function(c){c=c||a.doc;return c.body||c.getElementsByTagName("body")[0]},setContext:function(c,
g){a.global=e.global=c;a.doc=e.doc=g},withGlobal:function(c,g,f,i){var l=a.global;try{return a.global=e.global=c,e.withDoc.call(null,c.document,g,f,i)}finally{a.global=e.global=l}},withDoc:function(c,k,f,i){var l=e.doc,b=g("quirks"),j=g("ie"),d,m,p;try{a.doc=e.doc=c;a.isQuirks=g.add("quirks","BackCompat"==a.doc.compatMode,!0,!0);if(g("ie")&&(p=c.parentWindow)&&p.navigator)d=parseFloat(p.navigator.appVersion.split("MSIE ")[1])||void 0,(m=c.documentMode)&&5!=m&&Math.floor(d)!=m&&(d=m),a.isIE=g.add("ie",
d,!0,!0);f&&"string"==typeof k&&(k=f[k]);return k.apply(f,i||[])}finally{a.doc=e.doc=l,a.isQuirks=g.add("quirks",b,!0,!0),a.isIE=g.add("ie",j,!0,!0)}}};c.mixin(a,e);return e})},"frozen/InputManager":function(){define("./GameAction,./MouseAction,./utils/insideCanvas,dcl,dcl/bases/Mixer,dcl/mixins/Cleanup,dojo/has,dojo/on,dojo/dom-style,dojo/dom-geometry,dojo/_base/lang,dojo/domReady!".split(","),function(a,c,g,e,h,k,f,i,l,b,j){return e([h,k],{keyActions:[],mouseAction:null,touchAction:null,canvas:null,
handleMouse:!0,handleTouch:!0,handleKeys:!0,gameArea:null,canvasPercentage:null,constructor:function(){function b(a){a.remove()}this.handleKeys&&(this.pushCleanup(i(document,"keydown",j.hitch(this,"keyDown")),b),this.pushCleanup(i(document,"keyup",j.hitch(this,"keyReleased")),b));this.handleMouse&&!f("touch")&&(this.pushCleanup(i(document,"mousedown",j.hitch(this,"mouseDown")),b),this.pushCleanup(i(document,"mousemove",j.hitch(this,"mouseMove")),b),this.pushCleanup(i(document,"mouseup",j.hitch(this,
"mouseUp")),b));this.handleTouch&&f("touch")&&(this.pushCleanup(i(document,"touchstart",j.hitch(this,"touchStart")),b),this.pushCleanup(i(document,"touchmove",j.hitch(this,"touchMove")),b),this.pushCleanup(i(document,"touchend",j.hitch(this,"touchEnd")),b));if(!this.mouseAction)this.mouseAction=new c;if(!this.touchAction)this.touchAction=new c;this.gameArea&&this.canvasPercentage&&(this.pushCleanup(i(window,"resize",j.hitch(this,"resize")),b),this.pushCleanup(i(window,"orientationchange",j.hitch(this,
"resize")),b))},mapToKey:function(b,a){if(!this.keyActions)this.keyActions=[];this.keyActions[a]=b},addKeyAction:function(b,c){var e=new a;if(c)e.behavior=e.statics.DETECT_INITAL_PRESS_ONLY;this.mapToKey(e,b);return e},mouseUp:function(b){this.mouseAction.release();this.mouseAction.endPosition=this.getMouseLoc(b)},mouseDown:function(b){b=this.getMouseLoc(b);this.mouseAction.endPosition=null;this.mouseAction.insideCanvas=g(b,this.canvas);this.mouseAction.insideCanvas?(this.mouseAction.press(),this.mouseAction.startPosition=
b,this.mouseAction.position=b):this.mouseAction.startPosition=null},mouseMove:function(b){this.mouseAction.position=this.getMouseLoc(b)},touchStart:function(b){b=this.getMouseLoc(b.changedTouches[0]);this.touchAction.endPosition=null;this.touchAction.insideCanvas=g(b,this.canvas);this.touchAction.insideCanvas?(this.touchAction.press(),this.touchAction.startPosition=b,this.touchAction.position=b):this.touchAction.startPosition=null},touchEnd:function(b){this.touchAction.release();this.touchAction.endPosition=
this.getMouseLoc(b.changedTouches[0])},touchMove:function(b){this.touchAction.position=this.getMouseLoc(b.changedTouches[0]);this.touchAction.startPosition&&b.preventDefault()},getKeyAction:function(b){return this.keyActions.length?this.keyActions[b.keyCode]||this.keyActions[String.fromCharCode(b.keyCode)]:null},keyPressed:function(b){(b=this.getKeyAction(b))&&!b.isPressed()&&b.press()},keyDown:function(b){(b=this.getKeyAction(b))&&!b.isPressed()&&b.press()},keyReleased:function(b){(b=this.getKeyAction(b))&&
b.release()},getMouseLoc:function(a){var c=b.position(this.canvas);return this.zoomRatio?{x:Math.round((a.clientX-c.x)/this.zoomRatio),y:Math.round((a.clientY-c.y)/this.zoomRatio)}:{x:Math.round(a.clientX-c.x),y:Math.round(a.clientY-c.y)}},resize:function(){if(this.gameArea&&this.canvasPercentage&&this.canvas){var a=this.canvas.width,c=this.canvas.height,e=b.getMarginExtents(document.body),f=window.innerWidth-e.w,e=window.innerHeight-e.h,c=a/c,g="",j="";f/e>c?(f=e*c,g=f+"px",j=e+"px"):(g=f+"px",j=
Math.round(f/c)+"px");this.zoomRatio=f/a*this.canvasPercentage;l.set(this.gameArea,{width:g,height:j});a=Math.floor(100*this.canvasPercentage)+"%";l.set(this.canvas,{width:a,height:a,display:"block",marginLeft:"auto",marginRight:"auto"})}}})})},"frozen/GameAction":function(){define(["dcl","dcl/bases/Mixer"],function(a,c){return a(c,{name:null,behavior:0,amount:0,state:0,statics:{NORMAL:0,DETECT_INITAL_PRESS_ONLY:1,STATE_RELEASED:0,STATE_PRESSED:1,STATE_WAITING_FOR_RELEASE:2,STATE_MOVED:3},constructor:function(){this.reset()},
reset:function(){this.state=this.statics.STATE_RELEASED;this.amount=0},tap:function(){this.press();this.release()},press:function(){this.state=this.statics.STATE_PRESSED;this.behavior===this.statics.DETECT_INITAL_PRESS_ONLY&&this.pressAmt(1)},pressAmt:function(a){if(this.state!==this.statics.STATE_WAITING_FOR_RELEASE)this.amount+=a,this.state=this.statics.STATE_WAITING_FOR_RELEASE},release:function(){this.state=this.statics.STATE_RELEASED},isPressed:function(){return this.state===this.statics.STATE_PRESSED?
!0:!1},getAmount:function(){var a=this.amount;if(0!==a)if(this.state===this.statics.STATE_RELEASED)this.amount=0;else if(this.behavior===this.statics.DETECT_INITAL_PRESS_ONLY)this.state=this.statics.STATE_WAITING_FOR_RELEASE,this.amount=0;return a}})})},"frozen/MouseAction":function(){define(["dcl","dcl/bases/Mixer","./GameAction"],function(a,c,g){return a([c,g],{startPosition:null,endPosition:null,position:null})})},"frozen/utils/insideCanvas":function(){define(function(){return function(a,c){return 0>
a.x||a.x>c.width||0>a.y||a.y>c.height?!1:!0}})},"dcl/mixins/Cleanup":function(){(function(a){"undefined"!=typeof define?define(["../dcl","./Destroyable"],a):"undefined"!=typeof module?module.exports=a(require("../dcl"),require("./Destroyable")):dclMixinsCleanup=a(dcl,dclMixinsDestroyable)})(function(a,c){return a(c,{declaredClass:"dcl/mixins/Cleanup",constructor:function(){this.__cleanupStack=[]},pushCleanup:function(a,c){var h=c?function(){c(a)}:function(){a.destroy()};this.__cleanupStack.push(h);
return h},popCleanup:function(a){if(a)return this.__cleanupStack.pop();this.__cleanupStack.pop()()},removeCleanup:function(a){for(var c=this.__cleanupStack.length-1;0<=c;--c)if(this.__cleanupStack[c]===a)return this.__cleanupStack.splice(c,1),!0},cleanup:function(){for(;this.__cleanupStack.length;)this.__cleanupStack.pop()()},destroy:function(){this.cleanup()}})})},"dcl/mixins/Destroyable":function(){(function(a){"undefined"!=typeof define?define(["../dcl"],a):"undefined"!=typeof module?module.exports=
a(require("../dcl")):dclMixinsDestroyable=a(dcl)})(function(a){var c=a(null,{declaredClass:"dcl/mixins/Destroyable"});a.chainBefore(c,"destroy");return c})},"dojo/dom-style":function(){define(["./sniff","./dom"],function(a,c){function g(d,c,e){c=c.toLowerCase();if(a("ie")){if("auto"==e){if("height"==c)return d.offsetHeight;if("width"==c)return d.offsetWidth}if("fontweight"==c)switch(e){case 700:return"bold";default:return"normal"}}c in b||(b[c]=j.test(c));return b[c]?k(d,e):e}var e,h={};e=a("webkit")?
function(b){var a;if(1==b.nodeType){var d=b.ownerDocument.defaultView;a=d.getComputedStyle(b,null);if(!a&&b.style)b.style.display="",a=d.getComputedStyle(b,null)}return a||{}}:a("ie")&&(9>a("ie")||a("quirks"))?function(b){return 1==b.nodeType&&b.currentStyle?b.currentStyle:{}}:function(b){return 1==b.nodeType?b.ownerDocument.defaultView.getComputedStyle(b,null):{}};h.getComputedStyle=e;var k;k=a("ie")?function(b,a){if(!a)return 0;if("medium"==a)return 4;if(a.slice&&"px"==a.slice(-2))return parseFloat(a);
var d=b.style,c=b.runtimeStyle,e=d.left,f=c.left;c.left=b.currentStyle.left;try{d.left=a,a=d.pixelLeft}catch(g){a=0}d.left=e;c.left=f;return a}:function(b,a){return parseFloat(a)||0};h.toPixelValue=k;var f=function(b,a){try{return b.filters.item("DXImageTransform.Microsoft.Alpha")}catch(d){return a?{}:null}},i=9>a("ie")||10>a("ie")&&a("quirks")?function(b){try{return f(b).Opacity/100}catch(a){return 1}}:function(b){return e(b).opacity},l=9>a("ie")||10>a("ie")&&a("quirks")?function(b,a){var d=100*
a,c=1==a;b.style.zoom=c?"":1;if(f(b))f(b,1).Opacity=d;else{if(c)return a;b.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity="+d+")"}f(b,1).Enabled=!c;if("tr"==b.tagName.toLowerCase())for(d=b.firstChild;d;d=d.nextSibling)"td"==d.tagName.toLowerCase()&&l(d,a);return a}:function(b,a){return b.style.opacity=a},b={left:!0,top:!0},j=/margin|padding|width|height|max|min|offset/,d=a("ie")?"styleFloat":"cssFloat",m={cssFloat:d,styleFloat:d,"float":d};h.get=function(b,a){var d=c.byId(b),e=arguments.length;
if(2==e&&"opacity"==a)return i(d);var a=m[a]||a,f=h.getComputedStyle(d);return 1==e?f:g(d,a,f[a]||d.style[a])};h.set=function(b,a,d){var e=c.byId(b),f=arguments.length,g="opacity"==a,a=m[a]||a;if(3==f)return g?l(e,d):e.style[a]=d;for(var j in a)h.set(b,j,a[j]);return h.getComputedStyle(e)};return h})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(a,c,g,e){function h(b,a,d,c,e,f){f=f||"px";b=b.style;if(!isNaN(a))b.left=a+f;if(!isNaN(d))b.top=d+f;
if(0<=c)b.width=c+f;if(0<=e)b.height=e+f}function k(b){return"button"==b.tagName.toLowerCase()||"input"==b.tagName.toLowerCase()&&"button"==(b.getAttribute("type")||"").toLowerCase()}function f(b){return"border-box"==i.boxModel||"table"==b.tagName.toLowerCase()||k(b)}var i={boxModel:"content-box"};if(a("ie"))i.boxModel="BackCompat"==document.compatMode?"border-box":"content-box";i.getPadExtents=function(b,a){var b=g.byId(b),d=a||e.getComputedStyle(b),c=e.toPixelValue,f=c(b,d.paddingLeft),h=c(b,d.paddingTop),
i=c(b,d.paddingRight),d=c(b,d.paddingBottom);return{l:f,t:h,r:i,b:d,w:f+i,h:h+d}};i.getBorderExtents=function(b,a){var b=g.byId(b),d=e.toPixelValue,c=a||e.getComputedStyle(b),f="none"!=c.borderLeftStyle?d(b,c.borderLeftWidth):0,h="none"!=c.borderTopStyle?d(b,c.borderTopWidth):0,i="none"!=c.borderRightStyle?d(b,c.borderRightWidth):0,d="none"!=c.borderBottomStyle?d(b,c.borderBottomWidth):0;return{l:f,t:h,r:i,b:d,w:f+i,h:h+d}};i.getPadBorderExtents=function(b,a){var b=g.byId(b),d=a||e.getComputedStyle(b),
c=i.getPadExtents(b,d),d=i.getBorderExtents(b,d);return{l:c.l+d.l,t:c.t+d.t,r:c.r+d.r,b:c.b+d.b,w:c.w+d.w,h:c.h+d.h}};i.getMarginExtents=function(b,a){var b=g.byId(b),d=a||e.getComputedStyle(b),c=e.toPixelValue,f=c(b,d.marginLeft),h=c(b,d.marginTop),i=c(b,d.marginRight),d=c(b,d.marginBottom);return{l:f,t:h,r:i,b:d,w:f+i,h:h+d}};i.getMarginBox=function(b,c){var b=g.byId(b),d=c||e.getComputedStyle(b),f=i.getMarginExtents(b,d),h=b.offsetLeft-f.l,k=b.offsetTop-f.t,l=b.parentNode,n=e.toPixelValue;if(a("mozilla")){var y=
parseFloat(d.left),d=parseFloat(d.top);!isNaN(y)&&!isNaN(d)?(h=y,k=d):l&&l.style&&(l=e.getComputedStyle(l),"visible"!=l.overflow&&(h+="none"!=l.borderLeftStyle?n(b,l.borderLeftWidth):0,k+="none"!=l.borderTopStyle?n(b,l.borderTopWidth):0))}else if((a("opera")||8==a("ie")&&!a("quirks"))&&l)l=e.getComputedStyle(l),h-="none"!=l.borderLeftStyle?n(b,l.borderLeftWidth):0,k-="none"!=l.borderTopStyle?n(b,l.borderTopWidth):0;return{l:h,t:k,w:b.offsetWidth+f.w,h:b.offsetHeight+f.h}};i.getContentBox=function(b,
c){var b=g.byId(b),d=c||e.getComputedStyle(b),f=b.clientWidth,h=i.getPadExtents(b,d),k=i.getBorderExtents(b,d);f?(d=b.clientHeight,k.w=k.h=0):(f=b.offsetWidth,d=b.offsetHeight);a("opera")&&(h.l+=k.l,h.t+=k.t);return{l:h.l,t:h.t,w:f-h.w-k.w,h:d-h.h-k.h}};i.setContentSize=function(b,a,d){var b=g.byId(b),c=a.w,a=a.h;f(b)&&(d=i.getPadBorderExtents(b,d),0<=c&&(c+=d.w),0<=a&&(a+=d.h));h(b,NaN,NaN,c,a)};var l={l:0,t:0,w:0,h:0};i.setMarginBox=function(b,c,d){var b=g.byId(b),m=d||e.getComputedStyle(b),d=c.w,
p=c.h,o=f(b)?l:i.getPadBorderExtents(b,m),m=i.getMarginExtents(b,m);if(a("webkit")&&k(b)){var u=b.style;if(0<=d&&!u.width)u.width="4px";if(0<=p&&!u.height)u.height="4px"}0<=d&&(d=Math.max(d-o.w-m.w,0));0<=p&&(p=Math.max(p-o.h-m.h,0));h(b,c.l,c.t,d,p)};i.isBodyLtr=function(b){b=b||c.doc;return"ltr"==(c.body(b).dir||b.documentElement.dir||"ltr").toLowerCase()};i.docScroll=function(b){var b=b||c.doc,e=c.doc.parentWindow||c.doc.defaultView;return"pageXOffset"in e?{x:e.pageXOffset,y:e.pageYOffset}:(e=
a("quirks")?c.body(b):b.documentElement)&&{x:i.fixIeBiDiScrollLeft(e.scrollLeft||0,b),y:e.scrollTop||0}};if(a("ie"))i.getIeDocumentElementOffset=function(b){b=b||c.doc;b=b.documentElement;if(8>a("ie")){var e=b.getBoundingClientRect(),d=e.left,e=e.top;7>a("ie")&&(d+=b.clientLeft,e+=b.clientTop);return{x:0>d?0:d,y:0>e?0:e}}return{x:0,y:0}};i.fixIeBiDiScrollLeft=function(b,e){var e=e||c.doc,d=a("ie");if(d&&!i.isBodyLtr(e)){var f=a("quirks"),g=f?c.body(e):e.documentElement,h=c.global;6==d&&!f&&h.frameElement&&
g.scrollHeight>g.clientHeight&&(b+=g.clientLeft);return 8>d||f?b+g.clientWidth-g.scrollWidth:-b}return b};i.position=function(b,e){var b=g.byId(b),d=c.body(b.ownerDocument),f=b.getBoundingClientRect(),f={x:f.left,y:f.top,w:f.right-f.left,h:f.bottom-f.top};if(9>a("ie")){var h=i.getIeDocumentElementOffset(b.ownerDocument);f.x-=h.x+(a("quirks")?d.clientLeft+d.offsetLeft:0);f.y-=h.y+(a("quirks")?d.clientTop+d.offsetTop:0)}e&&(d=i.docScroll(b.ownerDocument),f.x+=d.x,f.y+=d.y);return f};i.getMarginSize=
function(b,a){var b=g.byId(b),d=i.getMarginExtents(b,a||e.getComputedStyle(b)),c=b.getBoundingClientRect();return{w:c.right-c.left+d.w,h:c.bottom-c.top+d.h}};i.normalizeEvent=function(b){if(!("layerX"in b))b.layerX=b.offsetX,b.layerY=b.offsetY};return i})},"dojo/domReady":function(){define(["./has"],function(){function a(b){k?b(g):f.push(b)}var c=this,g=document,e={loaded:1,complete:1},h="string"!=typeof g.readyState,k=!!e[g.readyState];if(h)g.readyState="loading";if(!k){var f=[],i=[],l=function(b){b=
b||c.event;if(!(k||"readystatechange"==b.type&&!e[g.readyState])){k=1;if(h)g.readyState="complete";for(;f.length;)f.shift()(g)}},b=function(b,a){b.addEventListener(a,l,!1);f.push(function(){b.removeEventListener(a,l,!1)})};b(g,"DOMContentLoaded");b(c,"load");"onreadystatechange"in g?b(g,"readystatechange"):h||i.push(function(){return e[g.readyState]});if(i.length){var j=function(){if(!k){for(var b=i.length;b--;)if(i[b]()){l("poller");return}setTimeout(j,30)}};j()}}a.load=function(b,c,e){a(e)};return a})},
"frozen/shims/RAF":function(){define(function(){for(var a=0,c=["ms","moz","webkit","o"],g=0;g<c.length&&!window.requestAnimationFrame;++g)window.requestAnimationFrame=window[c[g]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c[g]+"CancelAnimationFrame"]||window[c[g]+"CancelRequestAnimationFrame"];if(!window.requestAnimationFrame)window.requestAnimationFrame=function(c){var g=(new Date).getTime(),k=Math.max(0,16-(g-a)),f=window.setTimeout(function(){c(g+k)},k);a=g+k;return f};if(!window.cancelAnimationFrame)window.cancelAnimationFrame=
function(a){clearTimeout(a)}})},"frozen/box2d/Box":function(){define(["dcl","dcl/bases/Mixer","dojo/_base/lang"],function(a,c){var g=Box2D.Common.Math.b2Vec2,e=Box2D.Dynamics.b2BodyDef,h=Box2D.Dynamics.b2Body,k=Box2D.Dynamics.b2FixtureDef,f=Box2D.Dynamics.b2World,i=Box2D.Collision.Shapes.b2PolygonShape,l=Box2D.Collision.Shapes.b2CircleShape;return a(c,{intervalRate:60,adaptive:!1,bodiesMap:null,fixturesMap:null,jointsMap:null,b2World:null,gravityX:0,gravityY:9.8,allowSleep:!0,resolveCollisions:!1,
contactListener:null,collisions:null,scale:30,constructor:function(b){if(b&&b.intervalRate)this.intervalRate=parseInt(b.intervalRate,10);this.bodiesMap={};this.fixturesMap={};this.jointsMap={};this.b2World=new f(new g(this.gravityX,this.gravityY),this.allowSleep);this.resolveCollisions&&this.addContactListener(this.contactListener||this)},update:function(b){if(this.resolveCollisions)this.collisions={};var a=Date.now();b?this.b2World.Step(b/1E3,10,10):this.b2World.Step(this.adaptive?(a-this.lastTimestamp)/
1E3:1/this.intervalRate,10,10);this.b2World.ClearForces();return Date.now()-a},getState:function(){for(var b={},a=this.b2World.GetBodyList();a;a=a.m_next)if(a.IsActive()&&"undefined"!==typeof a.GetUserData()&&null!==a.GetUserData()&&(b[a.GetUserData()]={x:a.GetPosition().x,y:a.GetPosition().y,angle:a.GetAngle(),center:{x:a.GetWorldCenter().x,y:a.GetWorldCenter().y},linearVelocity:a.m_linearVelocity,angularVelocity:a.m_angularVelocity},this.resolveCollisions))b[a.GetUserData()].collisions=this.collisions[a.GetUserData()]||
null;return b},updateExternalState:function(b){var a=this.getState(),c;for(c in a){var e=b[c];e&&!e.staticBody&&e.update(a[c])}},setBodies:function(b){for(var a in b)this.addBody(b[a]);this.ready=!0},addBody:function(b){if(!b.alreadyScaled)b.scaleShape(1/this.scale),b.scale=this.scale;var a=new e,c=new k,f,p,o,u;c.restitution=b.restitution;c.density=b.density;c.friction=b.friction;if(null!=b.maskBits)c.filter.maskBits=b.maskBits;if(null!=b.categoryBits)c.filter.categoryBits=b.categoryBits;if(null!=
b.groupIndex)c.filter.groupIndex=b.groupIndex;a.type=b.staticBody?h.b2_staticBody:h.b2_dynamicBody;a.position.x=b.x;a.position.y=b.y;a.userData=b.id;a.angle=b.angle;a.linearDamping=b.linearDamping;a.angularDamping=b.angularDamping;var n=this.b2World.CreateBody(a);if(b.radius)c.shape=new l(b.radius),n.CreateFixture(c);else if(b.points){p=[];for(a=0;a<b.points.length;a++)o=new g,o.Set(b.points[a].x,b.points[a].y),p[a]=o;c.shape=new i;c.shape.SetAsArray(p,p.length);n.CreateFixture(c)}else if(b.polys)for(f=
0;f<b.polys.length;f++){p=b.polys[f];u=[];for(a=0;a<p.length;a++)o=new g,o.Set(p[a].x,p[a].y),u[a]=o;c.shape=new i;c.shape.SetAsArray(u,u.length);n.CreateFixture(c)}else c.shape=new i,c.shape.SetAsBox(b.halfWidth,b.halfHeight),n.CreateFixture(c);this.bodiesMap[b.id]=n},setPosition:function(b,a,c){this.bodiesMap[b].SetPosition(new g(a,c))},setAngle:function(b,a){this.bodiesMap[b].SetAngle(a)},setLinearVelocity:function(b,a,c){this.bodiesMap[b].SetLinearVelocity(new g(a,c))},setAngularVelocity:function(b,
a){this.bodiesMap[b].SetAngularVelocity(a)},applyImpulseDegrees:function(b,a,c){b=this.bodiesMap[b];b.ApplyImpulse(new g(Math.sin(a*(Math.PI/180))*c,-1*Math.cos(a*(Math.PI/180))*c),b.GetWorldCenter())},applyForceDegrees:function(b,a,c){b=this.bodiesMap[b];b.ApplyForce(new g(Math.sin(a*(Math.PI/180))*c,-1*Math.cos(a*(Math.PI/180))*c),b.GetWorldCenter())},applyImpulse:function(b,a,c){b=this.bodiesMap[b];b.ApplyImpulse(new g(Math.sin(a)*c,-1*Math.cos(a)*c),b.GetWorldCenter())},applyForce:function(b,
a,c){b=this.bodiesMap[b];b.ApplyForce(new g(Math.sin(a)*c,-1*Math.cos(a)*c),b.GetWorldCenter())},applyTorque:function(b,a){this.bodiesMap[b].ApplyTorque(a)},setGravity:function(b){this.b2World.SetGravity(new g(b.x,b.y))},removeBody:function(b){this.bodiesMap[b]&&(this.fixturesMap[b]&&this.bodiesMap[b].DestroyFixture(this.fixturesMap[b]),this.b2World.DestroyBody(this.bodiesMap[b]),delete this.bodiesMap[b])},wakeUpBody:function(b){this.bodiesMap[b]&&this.bodiesMap[b].SetAwake(!0)},addContactListener:function(b){var a=
new Box2D.Dynamics.b2ContactListener;if(b.beginContact)a.BeginContact=function(a){b.beginContact(a.GetFixtureA().GetBody().GetUserData(),a.GetFixtureB().GetBody().GetUserData())};if(b.endContact)a.endContact=function(a){b.endContact(a.GetFixtureA().GetBody().GetUserData(),a.GetFixtureB().GetBody().GetUserData())};if(b.postSolve)a.PostSolve=function(a,c){b.postSolve(a.GetFixtureA().GetBody().GetUserData(),a.GetFixtureB().GetBody().GetUserData(),c.normalImpulses[0])};this.b2World.SetContactListener(a)},
destroyJoint:function(b){this.removeJoint(b)},removeJoint:function(b){this.jointsMap[b]&&(this.b2World.DestroyJoint(this.jointsMap[b]),delete this.jointsMap[b])},addJoint:function(b){if(b&&b.id&&!this.jointsMap[b.id]){if(!b.alreadyScaled&&b.scaleJointLocation)b.scaleJointLocation(1/this.scale),b.scale=this.scale;var a=b.createB2Joint(this);a&&(this.jointsMap[b.id]=a)}},beginContact:function(){},endContact:function(){},postSolve:function(b,a,c){this.collisions[b]=this.collisions[b]||[];this.collisions[b].push({id:a,
impulse:c});this.collisions[a]=this.collisions[a]||[];this.collisions[a].push({id:b,impulse:c})}})})},"frozen/box2d/entities/Rectangle":function(){define(["dcl","./Entity"],function(a,c){return a(c,{declaredClass:"frozen/box2d/entities/Rectangle",halfWidth:1,halfHeight:1,draw:a.superCall(function(a){return function(c,h){var h=h||this.scale||1,k=c.lineWidth;c.lineWidth=this.lineWidth;c.save();c.translate(this.x*h,this.y*h);c.rotate(this.angle);c.translate(-this.x*h,-this.y*h);c.fillStyle=this.fillStyle;
c.strokeStyle=this.strokeStyle;c.fillRect((this.x-this.halfWidth)*h,(this.y-this.halfHeight)*h,2*this.halfWidth*h,2*this.halfHeight*h);c.strokeRect((this.x-this.halfWidth)*h,(this.y-this.halfHeight)*h,2*this.halfWidth*h,2*this.halfHeight*h);c.restore();c.lineWidth=k;a.apply(this,[c,h])}}),scaleShape:a.superCall(function(a){return function(c){this.halfHeight*=c;this.halfWidth*=c;a.apply(this,[c])}}),pointInShape:function(a){return a.x>=this.x-this.halfWidth&&a.x<=this.x+this.halfWidth&&a.y>=this.y-
this.halfHeight&&a.y<=this.y+this.halfHeight}})})},"frozen/box2d/joints/Revolute":function(){define(["dcl","dojo/_base/lang","./Joint"],function(a,c,g){var e=Box2D.Common.Math.b2Vec2,h=Box2D.Dynamics.Joints.b2RevoluteJointDef;return a(g,{declaredClass:"frozen/box2d/joints/Revolute",createB2Joint:function(a){if(a&&a.bodiesMap&&a.b2World&&a.jointsMap&&!a.jointsMap[this.id]){var f=a.bodiesMap[this.bodyId1],g=a.bodiesMap[this.bodyId2];if(f&&g){var l;this.bodyPoint1&&(l=new e(this.bodyPoint1.x,this.bodyPoint1.y));
l=l||f.GetWorldCenter();var b=new h;b.Initialize(f,g,l,void 0);this.jointAttributes&&c.mixin(b,this.jointAttributes);return a.b2World.CreateJoint(b)}}}})})},"frozen/box2d/joints/Joint":function(){define(["dcl","dcl/bases/Mixer"],function(a,c){return a(c,{declaredClass:"frozen/box2d/joints/Joint",bodyId1:null,bodyId2:null,bodyPoint1:null,jointAttributes:null,scaleJointLocation:function(a){if(a&&this.bodyPoint1)this.bodyPoint1.x*=a,this.bodyPoint1.y*=a,this.alreadyScaled=!0}})})}}});
(function(){require({cache:{}});require.boot&&require.apply(null,require.boot)})();